<!DOCTYPE html>
<html>
<body>

<h1>Roman Numeral Converter - Level: Intermediate</h1>
    
<button onclick="numberToRomanNumeral()">Enter The number</button>
    
<script type = "text/javascript">
    function numberToRomanNumeral(){
        var string_number = prompt("Please enter the numbers", "");
        
        if(parseInt(string_number) > 3999){
            console.log("The largest number that can be represented in this notation is 3,999 (MMMCMXCIX)");
        }
        
        var numbers = string_number.split("").map(x => parseInt(x));
        console.log(numbers);
        console.log(numbers.length);
        
        var string_roman = "";
        if(numbers.length > 3){
            var i = 0;
            while(i < numbers[numbers.length-4]){
                string_roman += "M";
                i++;
            }
        }
            
        if(numbers.length > 2){
            if(numbers[numbers.length-3] === 9){
                string_roman += "CM";
            }
            else if(numbers[numbers.length-3] > 4){
                string_roman += "D";
                var i = 5;
                while(i < numbers[numbers.length-3]){
                    string_roman += "C";
                    i++;
                }
            }
            else if(numbers[numbers.length-3] === 4){
                string_roman += "CD";
            }

            else{
                var i = 0;
                while(i < numbers[numbers.length-3]){
                    string_roman += "C";
                    i++;
                }
            }
        }
        
        if(numbers.length > 1){
            if(numbers[numbers.length-2] === 9){
                string_roman += "XC";
            }
            else if(numbers[numbers.length-2] > 4){
                string_roman += "L";
                var i = 5;
                while(i < numbers[numbers.length-2]){
                    string_roman += "X";
                    i++;
                }
            }
            else if(numbers[numbers.length-2] === 4){
                string_roman += "XL";
            }

            else{
                var i = 0;
                while(i < numbers[numbers.length-2]){
                    string_roman += "X";
                    i++;
                }
            }
        }
        
        if(numbers.length > 0){
            if(numbers[numbers.length-1] === 9){
                string_roman += "IX";
            }
            else if(numbers[numbers.length-1] > 4){
                string_roman += "V";
                var i = 5;
                while(i < numbers[numbers.length-1]){
                    string_roman += "I";
                    i++;
                }
            }
            else if(numbers[numbers.length-1] === 4){
                string_roman += "IV";
            }
            else{
                var i = 0;
                while(i < numbers[numbers.length-1]){
                    string_roman += "I";
                    i++;
                }
            }
        }

        console.log(string_roman);
    }
</script>

</body>
</html>